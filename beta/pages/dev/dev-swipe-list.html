<!-- =====================================================================
/Farm-vista/pages/dev/dev-swipe-list.html
Rev: 2025-11-26b

Simple dev page to test fv-swipe-list.js swipe behavior.
===================================================================== -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>FarmVista ‚Ä¢ Dev Swipe List Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#3B7E46" />

  <!-- ABSOLUTE PATHS FOR FARMVISTA -->
  <link rel="manifest" href="/Farm-vista/manifest.webmanifest" />
  <link rel="apple-touch-icon" href="/Farm-vista/assets/icons/apple-touch-icon.png" />
  <link rel="icon" href="/Farm-vista/assets/icons/icon-192.png" />
  <script src="/Farm-vista/js/theme-boot.js"></script>
  <link rel="stylesheet" href="/Farm-vista/assets/css/theme.css" />
  <link rel="stylesheet" href="/Farm-vista/assets/css/app.css" />
  <link rel="stylesheet" href="/Farm-vista/assets/css/swipe-list.css" />

  <style>
    :root{
      --card-max: 900px;
      --page-bottom-gap: 72px;
    }

    body {
      background: var(--page-bg, #f3f4f6);
    }

    .dev-page-wrap{
      max-width: var(--card-max);
      margin: 0 auto;
      padding: 16px 16px calc(var(--page-bottom-gap) + 16px);
      box-sizing: border-box;
    }

    .dev-hero{
      margin-bottom: 16px;
    }

    .dev-back-row{
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      gap: 8px;
    }

    .dev-back-btn{
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border-radius: 999px;
      border: 1px solid var(--border-subtle, rgba(15,23,42,0.12));
      background: var(--surface, #ffffff);
      padding: 6px 12px;
      font-size: 0.85rem;
      line-height: 1.2;
      cursor: pointer;
    }

    .dev-back-btn span{
      font-size: 1rem;
    }

    .dev-title{
      font-size: 1.1rem;
      font-weight: 600;
    }

    .dev-subtitle{
      font-size: 0.85rem;
      opacity: 0.72;
    }

    .dev-card{
      background: var(--surface, #ffffff);
      border-radius: 18px;
      padding: 12px 14px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .dev-row-title{
      font-size: 0.98rem;
      font-weight: 600;
    }

    .dev-row-subtitle{
      font-size: 0.8rem;
      opacity: 0.75;
    }

    .dev-row-meta{
      margin-top: 4px;
      font-size: 0.78rem;
      opacity: 0.75;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .dev-list-wrap{
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .dev-note{
      font-size: 0.78rem;
      opacity: 0.7;
      margin-bottom: 10px;
    }
  </style>
</head>

<body>
  <main class="dev-page-wrap">
    <!-- Simple hero / back row -->
    <header class="dev-hero">
      <div class="dev-back-row">
        <button class="dev-back-btn" type="button" onclick="history.back()">
          <span>‚Üê</span>
          <span>Back</span>
        </button>
        <div>
          <div class="dev-title">Dev ‚Äì Swipe List Test</div>
          <div class="dev-subtitle">Swipe right = green check ‚Ä¢ Swipe left = red trash</div>
        </div>
      </div>
    </header>

    <section>
      <p class="dev-note">
        On your phone: drag any row <strong>right</strong> to reveal the green ‚ÄúAdd‚Äù action, or
        drag <strong>left</strong> to reveal the red ‚ÄúRemove‚Äù action. Tap the buttons to fire the
        callbacks (alert or fvToast if available).
      </p>

      <!-- This is the container wired to fv-swipe-list.js -->
      <div id="demo-swipe-list" class="dev-list-wrap">
        <!-- Each of these becomes a swipeable row -->
        <div class="fv-swipe-item" data-demo-id="1">
          <div class="dev-card">
            <div class="dev-row-title">Field Alpha</div>
            <div class="dev-row-subtitle">Corn ‚Ä¢ 2024 ‚Ä¢ West Farm</div>
            <div class="dev-row-meta">
              <span>Trial: Seed Varieties</span>
              <span>Acres: 80</span>
            </div>
          </div>
        </div>

        <div class="fv-swipe-item" data-demo-id="2">
          <div class="dev-card">
            <div class="dev-row-title">Field Bravo</div>
            <div class="dev-row-subtitle">Soybeans ‚Ä¢ 2024 ‚Ä¢ North Farm</div>
            <div class="dev-row-meta">
              <span>Trial: Fungicide</span>
              <span>Acres: 45</span>
            </div>
          </div>
        </div>

        <div class="fv-swipe-item" data-demo-id="3">
          <div class="dev-card">
            <div class="dev-row-title">Field Charlie</div>
            <div class="dev-row-subtitle">Corn ‚Ä¢ 2023 ‚Ä¢ South Farm</div>
            <div class="dev-row-meta">
              <span>Trial: Nitrogen</span>
              <span>Acres: 120</span>
            </div>
          </div>
        </div>

        <div class="fv-swipe-item" data-demo-id="4">
          <div class="dev-card">
            <div class="dev-row-title">Field Delta</div>
            <div class="dev-row-subtitle">Soybeans ‚Ä¢ 2025 ‚Ä¢ East Farm</div>
            <div class="dev-row-meta">
              <span>Trial: Biologic</span>
              <span>Acres: 60</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Simple inline script to wire up the dev list -->
  <script type="module">
    import { initSwipeList } from '/Farm-vista/js/fv-swipe-list.js';

    function devShowToast(message) {
      // Prefer the real FarmVista toast if it exists
      if (window.fvToast && typeof window.fvToast === 'function') {
        window.fvToast(message);
      } else {
        alert(message);
      }
    }

    const listEl = document.getElementById('demo-swipe-list');

    if (!listEl) {
      console.error('Dev Swipe List: #demo-swipe-list not found');
    } else {
      console.log('Dev Swipe List: initializing swipe list‚Ä¶');
      initSwipeList(listEl, {
        itemSelector: '.fv-swipe-item',

        // Swipe RIGHT to reveal leftAction (positive / green)
        leftAction: {
          label: 'Add',
          onAction: (itemEl) => {
            const title =
              itemEl.querySelector('.dev-row-title')?.textContent?.trim() ||
              'Unknown row';
            devShowToast(`‚úÖ Add action on "${title}"`);
          }
        },

        // Swipe LEFT to reveal rightAction (danger / red)
        rightAction: {
          label: 'Remove',
          onAction: (itemEl) => {
            const title =
              itemEl.querySelector('.dev-row-title')?.textContent?.trim() ||
              'Unknown row';
            devShowToast(`üóëÔ∏è Remove action on "${title}"`);
          }
        }
      });
    }
  </script>
</body>
</html>
