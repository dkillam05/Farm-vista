<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no" />
  <title>Login — Dowson Farms • FarmVista</title>

  <!-- Global theme + guard + firebase boot -->
  <link rel="stylesheet" href="../../assets/css/theme.css" />
  <script defer src="../../js/theme-boot.js"></script>

  <style>
    /* ===== Scoped to the login page ===== */
    .login * { box-sizing: border-box; }
    .login a { text-decoration: none; }

    :root{
      --green: var(--green, #3B7E46);
      --gold: var(--gold, #D0C542);
      --page: var(--app-bg, #f5f7f4);
      --text: var(--text, #141514);
      --surface: var(--surface, #ffffff);
      --muted: color-mix(in srgb, var(--text) 55%, #9aa09a);
      --ring: color-mix(in srgb, var(--green) 28%, transparent);
      --line: color-mix(in srgb, var(--text) 12%, transparent);
    }
    @media (prefers-color-scheme: dark){
      :root{
        --page:#141514; --text:#f5f7f4; --surface:#1c1e1c;
        --muted: color-mix(in srgb, var(--text) 45%, #9aa09a 55%);
        --line: color-mix(in srgb, var(--text) 16%, transparent);
      }
    }

    html, body { height:100%; background:var(--page); color:var(--text); }
    body { margin:0; font:400 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif; -webkit-text-size-adjust:100%; }

    .wrap{ min-height:100%; display:grid; place-items:center; padding:24px; }

    .card{
      width:min(400px,100%);
      background:var(--surface); color:var(--text);
      border-radius:16px; border:1px solid var(--line);
      box-shadow:0 8px 28px rgba(0,0,0,.08),0 2px 8px rgba(0,0,0,.06);
      overflow:clip;
    }
    .card::before{
      content:""; display:block; height:6px;
      background:linear-gradient(90deg,var(--gold),color-mix(in srgb,var(--gold) 70%, var(--green)));
    }
    .pad{ padding: clamp(18px,5vw,26px); }

    /* Brand header */
    .brand{ display:grid; grid-template-columns:44px 1fr; gap:12px; align-items:center; margin-bottom:6px; }
    .logo{ width:44px; height:44px; border-radius:10px; object-fit:contain; background:color-mix(in srgb,var(--page) 65%,transparent); border:1px solid var(--line); }
    .title{ display:grid; gap:2px; }
    .title h1{ margin:0; font-size:clamp(18px,2.4vw,22px); font-weight:800; line-height:1.2; }
    .title .byline{ margin:0; font-size:14px; font-weight:600; color:color-mix(in srgb,var(--text) 80%, var(--green)); }
    .title .slogan{ margin:0; font-size:14px; font-style:italic; color:var(--muted); }

    /* Form */
    form{ display:grid; gap:14px; margin-top:14px; }
    .field{ display:grid; gap:6px; }
    .field label{ font-size:14px; font-weight:600; }
    .control{ position:relative; }

    .input{
      width:100%; padding:12px 14px; padding-right:42px;
      background:#fff; border:1px solid color-mix(in srgb,var(--text) 18%, transparent);
      border-radius:12px; color:var(--text); outline:none;
      box-shadow:0 0 0 0 var(--ring);
      transition: box-shadow .15s ease, border-color .15s ease, background .15s ease;
    }
    .input::placeholder{ color: color-mix(in srgb, var(--text) 40%, transparent); }
    @media (prefers-color-scheme: dark){
      .input{ background:#232523; border-color:color-mix(in srgb,var(--text) 18%, transparent); }
      .input::placeholder{ color: color-mix(in srgb, var(--text) 45%, transparent); }
    }
    .input:focus{ border-color: color-mix(in srgb, var(--green) 60%, #0000); box-shadow:0 0 0 3px var(--ring); }

    .eye{
      position:absolute; right:8px; top:0; bottom:0;
      width:34px; display:grid; place-items:center;
      color:#8a8f8a; cursor:pointer; touch-action:manipulation;
      background:none !important; border:none !important; outline:none !important; -webkit-appearance:none !important; box-shadow:none !important;
    }
    .eye svg{ width:22px; height:22px; display:block; }
    .eye:hover{ color:#6f746f; }
    .eye:focus-visible{ outline:none !important; box-shadow:none !important; }

    .actions{ display:grid; gap:10px; margin-top:6px; }

    .login .btn{