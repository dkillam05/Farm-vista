<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>FarmVista â€¢ Page Title Here</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="theme-color" content="#3B7E46"/>

  <!-- ===========================
       ABSOLUTE PATHS ARE REQUIRED
       =========================== -->
  <link rel="manifest" href="/Farm-vista/manifest.webmanifest"/>
  <link rel="apple-touch-icon" href="/Farm-vista/assets/icons/apple-touch-icon.png"/>
  <link rel="icon" href="/Farm-vista/assets/icons/icon-192.png"/>

  <!-- ===========================
       THEME + BASE APP STYLES
       =========================== -->
  <script src="/Farm-vista/js/theme-boot.js"></script>
  <link rel="stylesheet" href="/Farm-vista/assets/css/theme.css"/>
  <link rel="stylesheet" href="/Farm-vista/assets/css/app.css"/>

  <!-- ===========================
       ENSURE FV-SHELL LOADED
       - adds global header/footer/menu
       =========================== -->
  <script>
    (function(){
      if(!customElements.get('fv-shell')){
        const s=document.createElement('script');
        s.src='/Farm-vista/js/fv-shell.js';
        s.defer=true;
        document.head.appendChild(s);
      }
    })();
  </script>

  <!-- ===========================
       PAGE-SPECIFIC CSS
       =========================== -->
  <style>
    :root{
      --card-max:1100px;
      --page-bottom-gap:96px;
      --accent:#2F6C3C;
    }
    body{ background:var(--app-bg,var(--surface)); }

    /* STANDARD WRAPPER (always use this for consistent padding) */
    .wrap{
      max-width:var(--card-max);
      margin:0 auto;
      padding:clamp(14px,3vw,22px);
      padding-bottom:calc(env(safe-area-inset-bottom,0px)+var(--ftr-h,42px)+var(--page-bottom-gap))!important;
    }

    /* HERO CARD (for title + main form or summary) */
    .hero{
      border:1px solid var(--border);
      border-radius:14px;
      background:var(--surface);
      box-shadow:var(--shadow,0 8px 20px rgba(0,0,0,.08));
      overflow:hidden;
      margin-bottom:var(--page-bottom-gap);
    }

    .hero-head{
      display:grid;
      grid-template-columns:36px 1fr;
      gap:12px;
      align-items:center;
      padding:14px 16px;
      background:linear-gradient(90deg,rgba(47,108,60,.12),transparent);
      border-bottom:1px solid var(--border);
    }

    .hero-head .icon{
      width:24px;height:24px;color:var(--accent);display:grid;place-items:center;
    }

    .hero-head h1{margin:0;font-size:clamp(20px,3.2vw,26px);line-height:1.2}
    .muted{color:var(--muted,#67706B)}
    .body{padding:16px;display:grid;gap:14px}

    /* RESPONSIVE GRID ROWS */
    .row{display:grid;gap:10px;grid-template-columns:1fr 1fr}
    @media (max-width:880px){.row{grid-template-columns:1fr}}

    /* INPUTS */
    .field label{display:block;font-weight:800;margin:0 0 6px}
    .input,.select,.textarea{
      width:100%;font:inherit;font-size:16px;color:var(--text);
      background:var(--card-surface,var(--surface));
      border:1px solid var(--border);
      border-radius:10px;
      padding:12px;outline:none
    }
    .textarea{min-height:110px;resize:vertical}
    .help{font-size:13px;color:var(--muted,#67706B);margin-top:6px}

    /* BUTTONS */
    .actions{display:flex;gap:12px;flex-wrap:wrap;align-items:center;margin-top:6px}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      min-width:160px;padding:12px 16px;border-radius:12px;
      border:1px solid var(--border);
      background:var(--card-surface,var(--surface));
      font-weight:800;color:var(--text)!important;cursor:pointer
    }
    .btn-primary{border-color:transparent;background:#2F6C3C;color:#fff!important}
  </style>
</head>

<body>
  <!-- ===========================
       FV-SHELL WRAPS ALL CONTENT
       - DO NOT REMOVE
       =========================== -->
  <fv-shell>
    <div class="wrap">
      <section class="hero">
        <header class="hero-head">
          <div class="icon" aria-hidden="true">ðŸ§­</div>
          <div>
            <h1>Page Title Goes Here</h1>
            <p class="muted">Short description or helper text.</p>
          </div>
        </header>

        <div class="body">
          <!-- === Example Form Layout === -->
          <div class="row">
            <div class="field">
              <label for="exampleSelect">Example Dropdown</label>
              <select id="exampleSelect" class="select">
                <option value="">â€” Select â€”</option>
                <option>Option A</option>
                <option>Option B</option>
              </select>
            </div>
            <div class="field">
              <label for="exampleInput">Example Input</label>
              <input id="exampleInput" class="input" placeholder="Type here"/>
            </div>
          </div>

          <div class="field">
            <label for="notes">Notes</label>
            <textarea id="notes" class="textarea" placeholder="Optional details"></textarea>
          </div>

          <div class="actions">
            <button class="btn" type="button">Clear</button>
            <button class="btn btn-primary" type="button">Save</button>
          </div>
        </div>
      </section>
    </div>
  </fv-shell>

  <!-- ===========================
       MODULAR FIREBASE (ALWAYS)
       - Never use compat (firebase-config.js)
       - Use firebase-init.js for db, auth, storage
       =========================== -->
  <script type="module">
    import {
      ready,
      getFirestore, getAuth,
      collection, getDocs, addDoc,
      serverTimestamp
    } from '/Farm-vista/js/firebase-init.js';

    /* Example modular boot pattern (this is required for all new pages) */
    (async()=>{
      const ctx = await ready; // waits for Firebase + Auth
      const db  = getFirestore();
      const auth = getAuth();
      const user = auth.currentUser;

      console.log("âœ… Firebase Ready", ctx.mode, user?.email);
      // Example read
      const qs = await getDocs(collection(db,"fields"));
      console.log("Loaded fields:", qs.size);

      // Example write
      // await addDoc(collection(db,"demo"), { createdAt: serverTimestamp(), name:"Demo" });
    })();
  </script>

  <!-- ===========================
       NOTES FOR FUTURE FILES
       ===========================
       â€¢ Always use full absolute paths.
       â€¢ All pages go under: /Farm-vista/pages/{module}/
       â€¢ Wrap everything in <fv-shell>.
       â€¢ Use modular Firebase imports from /js/firebase-init.js.
       â€¢ Never mix compat (firebase.firestore()) syntax.
       â€¢ Wait for `await ready` before any Firestore call.
       â€¢ Use .wrap and .hero layout to stay consistent.
       â€¢ Use .row for 2-column responsive forms.
       â€¢ Use .actions for button groups.
       â€¢ Avoid inline color styles â€” use theme colors.
       â€¢ Do not remove meta theme-color (#3B7E46).
  -->
</body>
</html>
